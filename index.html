<!DOCTYPE html>
<!-- saved from url=(0053)https://courses.engr.illinois.edu/cs225/fa2017/mps/5/ -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title> MP 5 - CS 225 Fall 2017: Data Structures </title>

        <meta name="base_url" content="https://courses.engr.illinois.edu/cs225/fa2017/">

        <style>
        .text-center {
          text-align: center;
        }

        .l-box {
            padding: 1em;
        }        
        </style>

        <link rel="stylesheet" media="screen" href="files/pure-min.css">
        <link rel="stylesheet" media="screen" href="files/grids-responsive-min.css">

        <link rel="stylesheet" media="screen" href="files/main.css">
        <link rel="stylesheet" media="print" href="files/print.css">

        <link rel="shortcut icon" href="https://courses.engr.illinois.edu/cs225/fa2017//favicon.ico">
        <link rel="icon" type="image/png" href="https://courses.engr.illinois.edu/cs225/fa2017//favicon.png">

        <link href="https://courses.engr.illinois.edu/cs225/fa2017/mps/5/" rel="alternate" type="application/rss+xml" title="CS 225 Fall 2017: Data Structures">

        

        <script type="text/javascript" async="" src="files/linkid.js"></script><script async="" src="files/analytics.js"></script><script type="text/x-mathjax-config;executed=true">
            MathJax.Hub.Config({
                    TeX: {
                        extensions: [ "AMSmath.js", "AMSsymbols.js" ]
                    },
                    tex2jax: {
                        inlineMath: [['\\(','\\)'], ['$$','$$']],
                        displayMath: [['\\[','\\]']]
                    },
                });
        </script>

        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-1728599-5', 'auto');
        ga('require', 'linkid');
        ga('send', 'pageview');

        </script>

        

<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax.MathJax_FullWidth {text-align: center; display: table-cell!important; width: 10000em!important}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax_LineBox {display: table!important}
.MathJax_LineBox span {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Blank; src: url('about:blank')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body data-no-instant=""><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div>
<div class="pure-g" role="navigation" id="header">
    <div class="pure-u-1 pure-u-md-3-24 pure-u-lg-6-24">
        <div class="pure-menu pure-menu-horizontal menu-header">
            <a href="#" class="menu-toggle" id="menu-toggle"><i class="bar"></i><i class="bar"></i><i class="bar"></i></a>
            <a class="pure-menu-heading" href="https://courses.engr.illinois.edu/cs225/fa2017/">CS 225</a>
        </div>
    </div>
    <div class="pure-u-1 pure-u-md-21-24 pure-u-lg-18-24">
        <div class="pure-menu pure-menu-horizontal menu-can-transform">
            <ul class="pure-menu-list">
            
            
                
                
                
                    
                
                
                    <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover ">
                        <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/info/syllabus">Course Info</a>
                        <ul class="pure-menu-children" role="menu">
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/info/staff/">Staff</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/info/assignment-faq/">Assignment FAQ</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/info/faq/">FAQ</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/info/integrity/">Academic Integrity</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/info/github/">Regarding Github</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/info/syllabus/">Syllabus</a>
                            </li>
                        
                        </ul>
                    </li>
                
            
                
                
                
                    
                
                
                    <li class="pure-menu-item ">
                        <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/calendar">
                            Calendar
                        </a>
                    </li>
                
            
                
                
                
                    
                
                
                    <li class="pure-menu-item ">
                        <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/lectures">
                            Lectures
                        </a>
                    </li>
                
            
                
                
                
                    
                
                
                    <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover ">
                        <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs">Labs</a>
                        <ul class="pure-menu-children" role="menu">
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/ml/">lab_ml</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/dict/">lab_dict</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/graphs/">lab_graphs</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/heaps2/">lab_heaps2</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/hash/">lab_hash</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/btree/">lab_btree</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/avl/">lab_avl</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/huffman/">lab_huffman</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/trees/">lab_trees</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/quacks/">lab_quacks</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/gdb2/">lab_gdb2</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/inheritance/">lab_inheritance</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/debug/">lab_debug</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/labs/intro/">lab_intro</a>
                            </li>
                        
                        </ul>
                    </li>
                
            
                
                
                    
                
                
                    
                
                
                    <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover pure-menu-selected">
                        <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/mps">MPs</a>
                        <ul class="pure-menu-children" role="menu">
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/mps/7/">MP 7</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/mps/6/">MP 6</a>
                            </li>
                        
                            <li class="pure-menu-item pure-menu-selected">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/mps/5/">MP 5</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/mps/4/">MP 4</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/mps/3/">MP 3</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/mps/2/">MP 2</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/mps/1/">MP 1</a>
                            </li>
                        
                        </ul>
                    </li>
                
            
                
                
                
                    
                
                
                    <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover ">
                        <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/exams">Exams</a>
                        <ul class="pure-menu-children" role="menu">
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/exams/exam4/">Exam 4</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/exams/exam3/">Exam 3</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/exams/exam2/">Exam 2</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/exams/exam1/">Exam 1</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/exams/">General Information</a>
                            </li>
                        
                        </ul>
                    </li>
                
            
                
                
                
                    
                
                
                    <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover ">
                        <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/resources/all">Resources</a>
                        <ul class="pure-menu-children" role="menu">
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/resources/setup/">Course Setup</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/resources/own-machine/">On Your Own Machine</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/resources/svn/">Subversion</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/resources/indev-resources/">In-Dev Resources</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/resources/maketutorial/">Makefile Tutorial</a>
                            </li>
                        
                        </ul>
                    </li>
                
            
                
                
                
                    
                
                
                    <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover ">
                        <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/honors">Honors Section</a>
                        <ul class="pure-menu-children" role="menu">
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/honors/lectures/">Schedule</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/honors/">Honors Syllabus</a>
                            </li>
                        
                            <li class="pure-menu-item ">
                                <a class="pure-menu-link" href="https://courses.engr.illinois.edu/cs225/fa2017/honors/resources/">Resources</a>
                            </li>
                        
                        </ul>
                    </li>
                
            
                
                
                
                    
                
                
            
            </ul>
        </div>
    </div>
</div>


<div class="pure-g">
    <div class="pure-u-md-8-24 pure-u-lg-6-24" id="toc">
        <div class="pure-u-md-8-24 pure-u-lg-6-24">
            <nav id="TableOfContents">
<ul>
<li>
<ul>
<li class="active visible"><a href="#goals-and-overview">Goals and Overview</a></li>
<li class="visible"><a href="#videos">Videos</a></li>
<li><a href="#checking-out-your-code">Checking Out Your Code</a></li>
<li><a href="#background-photomosaics">Background: PhotoMosaics</a></li>
<li><a href="#background-k-d-trees">Background: K-d trees</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#assignment-description">Assignment Description</a></li>
<li><a href="#part1">MP 5.1</a>
<ul>
<li><a href="#the-kdtree-class">The <code>KDTree</code> class</a></li>
<li><a href="#implementing-smallerdimval">Implementing <code>smallerDimVal</code></a></li>
<li><a href="#implementing-shouldreplace">Implementing <code>shouldReplace</code></a></li>
<li><a href="#implementing-the-kdtree-constructor">Implementing the <code>KDTree</code> Constructor</a></li>
<li><a href="#implementing-findnearestneighbor">Implementing <code>findNearestNeighbor</code></a></li>
<li><a href="#function-printtree">Function <code>printTree</code></a></li>
<li><a href="#implementation-notes">Implementation Notes</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#extra-credit-submission">Extra Credit Submission</a></li>
</ul></li>
<li><a href="#part2">MP 5.2</a>
<ul>
<li>
<ul>
<li><a href="#classes-involved-in-mp5-2">Classes Involved in mp5.2</a></li>
</ul></li>
<li><a href="#the-maptiles-function">The <code>mapTiles()</code> function</a></li>
<li><a href="#implementation-notes-1">Implementation Notes</a></li>
<li><a href="#compiling-and-running-a-photomosaic">Compiling and Running A PhotoMosaic</a></li>
<li><a href="#additional-resources">Additional Resources</a></li>
<li><a href="#testing-1">Testing</a></li>
</ul></li>
<!--li><a href="#handing-in-your-code">Handing in Your Code</a></li-->
<!--li><a href="#grading-information">Grading Information</a></li-->
<li><a href="#good-luck">Good luck!</a></li>
</ul></li>
</ul>
</nav>
        </div>
    </div>
    <div class="pure-u-1-1 pure-u-md-14-24 pure-u-lg-18-24" id="content">



<div class="page-header">
    <h1>MP 5 <small>PhotoMosaic</small></h1>
    
    <div class="assignment-due-extra">
            Extra credit:
            <ul class="due-dates">
                <li><span class="long-date">Monday, October 30 at 11:59 PM</span>
<span class="short-date">10/30 @ 11:59 PM</span></li>
                
            </ul>
    </div>
    
    
    <div class="assignment-due-final">
            Due:
            <ul class="due-dates">
                <li><span class="long-date">Monday, November 6 at 11:59 PM</span>
<span class="short-date">11/6 @ 11:59 PM</span></li>
                
            </ul>
    </div>
    
    
    <div class="assignment-doxygen"><a href="https://courses.engr.illinois.edu/cs225/fa2017//doxygen/mp5/annotated.html" target="_blank">Doxygen for MP 5</a></div>
    
</div>





<div class="alert alert-warning">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></svg>
    <strong>Solo MP</strong>
<p>This MP, as well as all other MPs in CS 225, are to be completed without a partner.</p>

<p>You are welcome to get help on the MP from course staff, via open lab hours, or Piazza!</p>

</div>

<h2 id="goals-and-overview">Goals and Overview<a href="#goals-and-overview" class="header-anchor"></a></h2>

<p>In this MP, you will:</p>

<ul>
<li>learn about <a href="https://en.wikipedia.org/wiki/Kd-tree">k-d trees</a></li>
<li>implement and use a <a href="https://en.wikipedia.org/wiki/Nearest_neighbor_search">nearest neighbor search (NNS)</a> algorithm</li>
<li>practice using <a href="https://en.wikipedia.org/wiki/Template_(programming)">templates</a></li>
<li>practice <a href="https://en.wikipedia.org/wiki/Const_correctness"><code>const</code>-correctness</a></li>
<li>use your knowledge to make a useful application</li>
</ul>

<h2 id="videos">Videos<a href="#videos" class="header-anchor"></a></h2>

<ul>
<li><a href="https://www.youtube.com/watch?v=T9h2KKJ_Pl8">k-d tree : 2-D example</a></li>
<li><a href="https://www.youtube.com/watch?v=aOhyCdxGJvY">(partition based) Quick Select</a></li>
<li><a href="https://www.youtube.com/watch?v=2SbVSxWGtpI">findNearestNeighbor - Part 1: Explanation</a></li>
<li><a href="https://www.youtube.com/watch?v=dyU2WyjhyLM">findNearestNeighbor - Part 2: Walkthrough</a></li>
</ul>

<h2 id="checking-out-your-code">Checking Out Your Code<a href="#checking-out-your-code" class="header-anchor"></a></h2>

<p>As usual, check out the code by running</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">svn up
</code></pre></div>
<p>from your <code>cs225</code> directory. This will create a new folder in your working
directory called <code>mp5</code>.</p>

<div class="alert alert-success">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"></path></svg>
    <strong>Doxygen</strong>
<p>You can see all of the <a href="https://courses.engr.illinois.edu/cs225/fa2017//doxygen/mp5/todo.html">required functions</a> on the TODO page on the
Doxygen for this MP.</p>

<p>A list of relevant files is <a href="https://courses.engr.illinois.edu/cs225/fa2017//doxygen/mp5/files.html">here</a>.</p>

</div>

<h2 id="background-photomosaics">Background: PhotoMosaics<a href="#background-photomosaics" class="header-anchor"></a></h2>

<p>A PhotoMosaic is a picture created by taking some source picture, dividing it
up into rectangular sections, and replacing each section with a small thumbnail
image whose color closely approximates the color of the section it replaces.
Viewing the PhotoMosaic at low magnification, the individual pixels appear as
the source image, while a closer examination reveals that the image is made up
of many smaller tile images.</p>

<figure style="text-align: center;">
    <a href="https://courses.engr.illinois.edu/cs225/fa2017/mps/5/quad_mosaic_02.png">
    <img src="files/quad_mosaic_thum.png" alt="Click for the (rather large) full-size mosaic">
    </a>
    
    <figcaption>
        <p>
            Click for the (rather large) full-size mosaic
            
        </p>
    </figcaption>
    
</figure>

<p>For this project you will be implementing parts of a PhotoMosaic generator.
Specifically your code will be responsible for deciding how to map tile images
to the rectangular sections of pixels in the source image. Selecting the
appropriate tile image is supported by a data structure called a <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">k</script>-d tree
which we will describe in the next section. The pool of tile images are
specified by a local directory of images. We provide the code to create the
TileImage pool and the code to create the mosaic picture from a tiled source
image.</p>

<h2 id="background-k-d-trees">Background: K-d trees<a href="#background-k-d-trees" class="header-anchor"></a></h2>

<p>Binary Search Trees are linear data structures that support the Dictionary ADT
operations (<code>insert</code>, <code>find</code>, <code>remove</code>). They also support nearest neighbor
search: If you have a binary search tree, given a key that may or may not be in
the tree, you can find the closest key that is in the tree. To do so, you just
recursively walk down the tree, as in <code>find</code>, keeping track of the closest node
found:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">K BST&lt;K,V&gt;::findNearestNeighbor(Node * croot, K target)
{
    <span style="color:#008000">// Look in the left or right subtree depending on whether target is smaller or larger than our current root
</span><span style="color:#008000"></span>    <span style="color:#00f">if</span> (target &lt; croot-&gt;key)
    {
        <span style="color:#008000">// if we have no child in the correct direction, our root must be the closest
</span><span style="color:#008000"></span>        <span style="color:#00f">if</span> (croot-&gt;left == NULL)
            <span style="color:#00f">return</span> croot-&gt;key;
        childResult = findNearestNeighbor(croot-&gt;left);
    }
    <span style="color:#00f">else</span>
    {
        <span style="color:#00f">if</span> (croot-&gt;right == NULL)
            <span style="color:#00f">return</span> croot-&gt;key;
        childResult = findNearestNeighbor(croot-&gt;right);
    }

    <span style="color:#008000">// Calculate closest descendent node's distance to the target
</span><span style="color:#008000"></span>    childDistance = distance(childResult, target);

    <span style="color:#008000">// Find the distance of this node to the target
</span><span style="color:#008000"></span>    currDistance = distance(croot-&gt;key, target);

    <span style="color:#008000">// If the root node is closer, return it, otherwise return the closer child
</span><span style="color:#008000"></span>    <span style="color:#00f">if</span> (currDistance &lt; childDistance)
        <span style="color:#00f">return</span> croot-&gt;key;
    <span style="color:#00f">else</span>
        <span style="color:#00f">return</span> childResult;
}
</code></pre></div>
<p>A <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-4" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-5"><span class="mi" id="MathJax-Span-6" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-2">k</script>-d tree is a generalization of a Binary Search Tree that supports
nearest neighbor search in higher numbers of dimensions — for example, with
2-D or 3-D points, instead of only 1-D keys. A 1-D-tree (a <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-8"><span class="mi" id="MathJax-Span-9" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-3">k</script>-d tree with
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-10" style="width: 2.792em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.275em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.17em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-11"><span class="mi" id="MathJax-Span-12" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-13" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-14" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi><mo>=</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-4">k = 1</script>) is simply a binary search tree. For this MP, you will be creating a
photomosaic, which requires that given a region on our original image, we can
determine which of our available images best fills that region.  If we use the
average color of regions and tile-images, this can be determined by finding the
nearest colored tile image to a given region. If we treat colors as <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;G&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-15" style="width: 4.29em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.515em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1003.46em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-16"><span class="mo" id="MathJax-Span-17" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-18" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-19" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-20" style="font-family: STIXGeneral-Italic; padding-left: 0.209em;">G</span><span class="mo" id="MathJax-Span-21" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-22" style="font-family: STIXGeneral-Italic; padding-left: 0.209em;">B</span><span class="mo" id="MathJax-Span-23" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>R</mi><mo>,</mo><mi>G</mi><mo>,</mo><mi>B</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-5">(R, G,
B)</script> points in 3-D space, we can solve this problem with a 3-D tree.</p>

<p>More formally, a <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-24" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-25"><span class="mi" id="MathJax-Span-26" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-6">k</script>-d tree is special purpose data structure used to
organize elements that can be described by locations in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-27" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-28"><span class="mi" id="MathJax-Span-29" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-7">k</script>-dimensional
space. It is considered a space-partitioning data structure because it
recursively subdivides a space into two convex sets. These sets are rectangular
regions of the space called <a href="https://en.wikipedia.org/wiki/Hyperrectangle">hyperrectangles</a>. <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-30" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-31"><span class="mi" id="MathJax-Span-32" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-8">k</script>-d
trees are particularly useful for implementing nearest neighbor search, which
is an optimization problem for finding the closest element in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-33" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-34"><span class="mi" id="MathJax-Span-35" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-9">k</script>-dimensional
space.</p>

<p>A <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-36" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-37"><span class="mi" id="MathJax-Span-38" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-10">k</script>-d tree is a rooted binary tree. Each node in the tree represents a
point in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-39" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-40"><span class="mi" id="MathJax-Span-41" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-11">k</script>-d-space, as well as a line (hyperplane) defined by one dimension
of this point, which divides this space into two regions (hyperrectangles). At
each level in the tree, a different dimension is used to decide the direction
of the splitting line (hyperplane). An element is selected to define the
splitting line by its coordinate value for the current dimension. This element
should be the median of all the points in this part of the tree, taken over the
current dimension. A node is then created for this element in the tree and its
children are created recursively using the same process, which repeats until no
elements remain in the region (hyperrectangle). The splitting dimension at any
level of the tree can be selected to find the best partition of the data. For
our purposes, we will change dimension cyclically, in order (for <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-42" style="width: 2.792em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.275em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.22em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-43"><span class="mi" id="MathJax-Span-44" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-45" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-46" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi><mo>=</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-12">k = 3</script>, we
will use dimensions <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;#x2026;&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-47" style="width: 9.352em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.699em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1007.6em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-48"><span class="mn" id="MathJax-Span-49" style="font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-50" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-51" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">1</span><span class="mo" id="MathJax-Span-52" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-53" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">2</span><span class="mo" id="MathJax-Span-54" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-55" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">0</span><span class="mo" id="MathJax-Span-56" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-57" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">1</span><span class="mo" id="MathJax-Span-58" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-59" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">2</span><span class="mo" id="MathJax-Span-60" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-61" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">0</span><span class="mo" id="MathJax-Span-62" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-63" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">…</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mn>0</mn><mo>,</mo><mo>…</mo></math></span></span><script type="math/tex" id="MathJax-Element-13">0, 1, 2, 0, 1, 2, 0, \ldots</script>).</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-tree.svg" alt="Figure 1: the tree on the left is an example 2-dimensional $$k$$-d tree and the diagram on the right shows how the space is partitioned by the splitting planes into hyperrectangles for that tree. (Note that our implementation will make a slightly different tree from this set of points because of the way we will define the median.)">
    
    
    <figcaption>
        <p>
            Figure 1: the tree on the left is an example 2-dimensional <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-64" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-65"><span class="mi" id="MathJax-Span-66" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-14">k</script>-d tree and the diagram on the right shows how the space is partitioned by the splitting planes into hyperrectangles for that tree. (Note that our implementation will make a slightly different tree from this set of points because of the way we will define the median.)
            
        </p>
    </figcaption>
    
</figure>

<p><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-15-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-67" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-68"><span class="mi" id="MathJax-Span-69" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-15">k</script>-d trees are particularly useful for searching points in Euclidean space.
Perhaps the most common use of a <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-70" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-71"><span class="mi" id="MathJax-Span-72" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-16">k</script>-d tree is to allow for fast search for
the nearest neighbor of a query point, among the points in the tree. That is,
given an arbitrary point in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-17-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-73" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-74"><span class="mi" id="MathJax-Span-75" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-17">k</script>-dimensional space, find the point in the tree
which is nearest to this point. The search algorithm is defined in detail
below.</p>

<p>For this MP, we will be using a 3-D tree (a 3-dimensional <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-18-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-76" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-77"><span class="mi" id="MathJax-Span-78" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-18">k</script>-d tree) to find
the closest average color of <code>TileImage</code>s to the average color of pixel
sections in the source image. With the pool of average colors organized in a
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-79" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-80"><span class="mi" id="MathJax-Span-81" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-19">k</script>-d tree, we can search for the best tile to match the average color of
every region in the input image, and use it to create a PhotoMosaic!</p>

<h2 id="requirements">Requirements<a href="#requirements" class="header-anchor"></a></h2>

<p>These are strict requirements that apply to <strong>both</strong> parts of the MP. Failure
to follow these requirements may result in a failing grade on the MP.</p>

<ul>
<li>You are required to comment the MP as per the commenting standard described
by the <a href="https://courses.engr.illinois.edu/cs225/fa2017/info/style/">Coding Style Policy</a>.</li>
<li>You must name all files, public functions, public member variables (if any
exist), and executables <strong>exactly</strong> as we specify in this document.</li>
<li>Your code must produce the <strong>exact</strong> output that we specify: nothing more,
nothing less. Output includes standard and error output and files such as
images.</li>
<li>Your code must compile on the EWS machines using <strong>clang++</strong>. Being able to
compile on a different machine is <strong>not</strong> sufficient.</li>
<li>Your code must be submitted correctly by the <strong>due date and time</strong>. Late work
is not accepted.</li>
<li>Your code must not have any memory errors or leaks for full credit. Valgrind
tests will be performed separately from the functionality tests.</li>
<li>Your public function signatures must match ours <strong>exactly</strong> for full credit.
If using different signatures prevents compilation, you will receive a zero.
Tests for <code>const</code>-correctness may be performed separately from the other
tests (if applicable).</li>
</ul>

<h2 id="assignment-description">Assignment Description<a href="#assignment-description" class="header-anchor"></a></h2>

<p>We have provided the bulk of the code to support the generation of
PhotoMosaics. There is one critical component that is missing: the
<code>KDTileMapper</code>. This class is responsible for deciding which <code>TileImage</code>s to
use for each region of the original image. In order to make this decision it
must be able to figure out which <code>TileImage</code> has the closest average color to
the average color of that region. A data structure called a <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-82" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-83"><span class="mi" id="MathJax-Span-84" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-20">k</script>-d tree is
used to find the nearest neighbor of a point in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-21-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-85" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-86"><span class="mi" id="MathJax-Span-87" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-21">k</script>-dimensional space.</p>

<p>This assignment is broken up into the following two parts:</p>

<ul>
<li><a href="#part1">MP 5.1</a> — the <code>KDTree</code> class.</li>
<li><a href="#part2">MP 5.2</a> — the <code>mapTiles</code> function.</li>
</ul>

<p>As usual, we recommend implementing, compiling, and testing the functions in
<a href="#part1">MP 5.1</a> before starting <a href="#part2">MP 5.2</a>.</p>

<h2 id="part1">MP 5.1<a href="#part1" class="header-anchor"></a></h2>

<p>For the first part of MP 5, you will implement a generic <code>KDTree</code> class that
can be used to organize points in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-22-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-88" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-89"><span class="mi" id="MathJax-Span-90" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-22">k</script>-dimensional space, for any integer <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-23-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;&amp;gt;&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-91" style="width: 2.792em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.275em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.27em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-92"><span class="mi" id="MathJax-Span-93" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-94" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">&gt;</span><span class="mn" id="MathJax-Span-95" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">0</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi><mo>&gt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-23">k
> 0</script>.</p>

<h3 id="the-kdtree-class">The <code>KDTree</code> class<a href="#the-kdtree-class" class="header-anchor"></a></h3>

<p>Although we will only be using a 3-D tree, we want you to create a more general
data structure that will work with any positive non-zero number of dimensions.
Therefore, you will be creating a templated class where the template parameter
is an integer, specifying the number of dimensions. We have provided the
skeleton of this class, but it is your assignment to implement the member
functions and any helper functions you need.</p>

<p>A <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-24-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-96" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-97"><span class="mi" id="MathJax-Span-98" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-24">k</script>-d tree is constructed with <code>Point</code>s in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-25-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-99" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-100"><span class="mi" id="MathJax-Span-101" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-25">k</script>-dimensional space. To
support this, we have provided a templated <code>Point</code> class, which takes the same
integer template parameter as the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-26-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-102" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-103"><span class="mi" id="MathJax-Span-104" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-26">k</script>-d tree.</p>

<p>In this part of assignment we ask you to implement all of the following member
functions.</p>

<h3 id="implementing-smallerdimval">Implementing <code>smallerDimVal</code><a href="#implementing-smallerdimval" class="header-anchor"></a></h3>

<p>Please see the Doxygen for <a href="https://courses.engr.illinois.edu/cs225/fa2017//doxygen/mp5/classKDTree.html#a121c4423d7b9b7188e33c70466f36362"><code>smallerDimVal</code></a>.</p>

<p>This function should take in two templatized <code>Point</code>s and a dimension and
return a boolean value representing whether or not the first <code>Point</code> has a
smaller value than the second in the dimension specified. That is, if the
dimension passed in is <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-27-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-105" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-106"><span class="mi" id="MathJax-Span-107" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-27">k</script>, then this should be <code>true</code> if the coordinate of
the first point at <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-28-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-108" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-109"><span class="mi" id="MathJax-Span-110" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-28">k</script> is less than the coordinate of the second point at
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-29-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-111" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-112"><span class="mi" id="MathJax-Span-113" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-29">k</script>. <strong>If there is a tie, break it using <code>Point</code>’s <code>operator&lt;</code>. For
example:</strong></p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Point&lt;3&gt; a(1, 2, 3);
Point&lt;3&gt; b(3, 2, 1);
cout &lt;&lt; smallerDimVal(a, b, 0) &lt;&lt; endl; <span style="color:#008000">// should print true,
</span><span style="color:#008000"></span>                                        <span style="color:#008000">//    since 1 &lt; 3
</span><span style="color:#008000"></span>cout &lt;&lt; smallerDimVal(a, b, 2) &lt;&lt; endl; <span style="color:#008000">// should print false,
</span><span style="color:#008000"></span>                                        <span style="color:#008000">//    since 3 &gt; 1
</span><span style="color:#008000"></span>cout &lt;&lt; smallerDimVal(a, b, 1) &lt;&lt; endl; <span style="color:#008000">// should print true,
</span><span style="color:#008000"></span>                                        <span style="color:#008000">//    since a &lt; b according to operator&lt;,
</span><span style="color:#008000"></span></code></pre></div>
<h3 id="implementing-shouldreplace">Implementing <code>shouldReplace</code><a href="#implementing-shouldreplace" class="header-anchor"></a></h3>

<p>Please see the Doxygen for <a href="https://courses.engr.illinois.edu/cs225/fa2017//doxygen/mp5/classKDTree.html#a4ee8a8bd441a6cef3876056c4540defc"><code>shouldReplace</code></a>.</p>

<p>This function should take three templated <code>Point</code>s: <code>target</code>, <code>currentBest</code>,
and <code>potential</code>. This should return <code>true</code> if <code>potential</code> is closer (i.e., has
a smaller distance) to <code>target</code> than <code>currentBest</code> (with a tie being broken by
the <code>operator&lt;</code> in the <code>Point</code> class: <code>potential &lt; currentBest</code>). The Euclidean
distance between two <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-30-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-114" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-115"><span class="mi" id="MathJax-Span-116" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-30">k</script>-dimensional points, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-31-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;#x2026;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-117" style="width: 8.06em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.666em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1006.61em 2.843em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-118"><span class="mi" id="MathJax-Span-119" style="font-family: STIXGeneral-Italic;">P</span><span class="mo" id="MathJax-Span-120" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-121"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-122" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mn" id="MathJax-Span-123" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-124" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-125" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-126" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mn" id="MathJax-Span-127" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-128" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-129" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">…</span><span class="mo" id="MathJax-Span-130" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">,</span><span class="msubsup" id="MathJax-Span-131" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-132" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mi" id="MathJax-Span-133" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-134" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mn>1</mn></msub><mo>,</mo><msub><mi>p</mi><mn>2</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>p</mi><mi>k</mi></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-31">P(p_1, p_2, \ldots, p_k)</script>
and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-32-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;#x2026;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-135" style="width: 8.164em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.717em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1006.67em 2.843em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-136"><span class="mi" id="MathJax-Span-137" style="font-family: STIXGeneral-Italic;">Q</span><span class="mo" id="MathJax-Span-138" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-139"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-140" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mn" id="MathJax-Span-141" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-142" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-143" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-144" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mn" id="MathJax-Span-145" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-146" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-147" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">…</span><span class="mo" id="MathJax-Span-148" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">,</span><span class="msubsup" id="MathJax-Span-149" style="padding-left: 0.209em;"><span style="display: inline-block; position: relative; width: 0.881em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-150" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mi" id="MathJax-Span-151" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-152" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Q</mi><mo stretchy="false">(</mo><msub><mi>q</mi><mn>1</mn></msub><mo>,</mo><msub><mi>q</mi><mn>2</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>q</mi><mi>k</mi></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-32">Q(q_1, q_2, \ldots, q_k)</script>, is the square root of the sum of squares
of the differences in each dimension:</p>

<span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-33-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msqrt&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo&gt;&amp;#x22EF;&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/msqrt&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msqrt&gt;&lt;munderover&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/munderover&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/msqrt&gt;&lt;/math&gt;" role="presentation" style="text-align: center; position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-153" style="width: 31.098em; display: inline-block;"><span style="display: inline-block; position: relative; width: 25.674em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(0.261em 1025.67em 4.238em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-154"><span class="msqrt" id="MathJax-Span-155"><span style="display: inline-block; position: relative; width: 18.081em; height: 0px;"><span style="position: absolute; clip: rect(2.947em 1017em 4.341em -999.997em); top: -3.975em; left: 1.036em;"><span class="mrow" id="MathJax-Span-156"><span class="mo" id="MathJax-Span-157" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-158"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-159" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mn" id="MathJax-Span-160" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-161" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">−</span><span class="msubsup" id="MathJax-Span-162" style="padding-left: 0.261em;"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-163" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mn" id="MathJax-Span-164" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-165"><span style="display: inline-block; position: relative; width: 0.777em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.31em 4.29em -999.997em); top: -3.975em; left: 0em;"><span class="mo" id="MathJax-Span-166" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.313em;"><span class="mn" id="MathJax-Span-167" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-168" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="mo" id="MathJax-Span-169" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">(</span><span class="msubsup" id="MathJax-Span-170"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-171" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mn" id="MathJax-Span-172" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-173" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">−</span><span class="msubsup" id="MathJax-Span-174" style="padding-left: 0.261em;"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-175" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mn" id="MathJax-Span-176" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-177"><span style="display: inline-block; position: relative; width: 0.777em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.31em 4.29em -999.997em); top: -3.975em; left: 0em;"><span class="mo" id="MathJax-Span-178" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.313em;"><span class="mn" id="MathJax-Span-179" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-180" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="mo" id="MathJax-Span-181" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">⋯</span><span class="mo" id="MathJax-Span-182" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">(</span><span class="msubsup" id="MathJax-Span-184"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-185" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mi" id="MathJax-Span-186" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-187" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">−</span><span class="msubsup" id="MathJax-Span-188" style="padding-left: 0.261em;"><span style="display: inline-block; position: relative; width: 0.881em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-189" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mi" id="MathJax-Span-190" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-191"><span style="display: inline-block; position: relative; width: 0.777em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.31em 4.29em -999.997em); top: -3.975em; left: 0em;"><span class="mo" id="MathJax-Span-192" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.313em;"><span class="mn" id="MathJax-Span-193" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(2.998em 1017em 3.36em -999.997em); top: -4.388em; left: 1.036em;"><span style="display: inline-block; position: relative; width: 16.996em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.975em; left: 0em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.975em; left: 16.532em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 0.416em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 0.881em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 1.294em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 1.759em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 2.224em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 2.637em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 3.102em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 3.567em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 3.98em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 4.445em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 4.91em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 5.323em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 5.788em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 6.253em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 6.666em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 7.131em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 7.596em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 8.009em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 8.474em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 8.887em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 9.352em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 9.817em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 10.23em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 10.695em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 11.16em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 11.573em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 12.038em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 12.503em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 12.916em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 13.381em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 13.846em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 14.259em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 14.724em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 15.189em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 15.602em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 16.067em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(2.275em 1001.09em 4.445em -999.997em); top: -3.665em; left: 0em;"><span style="font-family: STIXSizeOneSym;">√</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-194" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msqrt" id="MathJax-Span-195" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 6.304em; height: 0px;"><span style="position: absolute; clip: rect(2.069em 1005.17em 5.426em -999.997em); top: -4.026em; left: 1.139em;"><span class="mrow" id="MathJax-Span-196"><span class="munderover" id="MathJax-Span-197"><span style="display: inline-block; position: relative; width: 1.294em; height: 0px;"><span style="position: absolute; clip: rect(2.843em 1001.19em 4.6em -999.997em); top: -3.975em; left: 0em;"><span class="mo" id="MathJax-Span-198" style="font-family: STIXSizeOneSym; vertical-align: -0.514em;">∑</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.98em 4.238em -999.997em); top: -2.838em; left: 0.106em;"><span class="texatom" id="MathJax-Span-199"><span class="mrow" id="MathJax-Span-200"><span class="mi" id="MathJax-Span-201" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-202" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-203" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.257em 1000.31em 4.135em -999.997em); top: -5.163em; left: 0.467em;"><span class="mi" id="MathJax-Span-204" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-205" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-206"><span style="display: inline-block; position: relative; width: 0.777em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-207" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mi" id="MathJax-Span-208" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-209" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">−</span><span class="msubsup" id="MathJax-Span-210" style="padding-left: 0.261em;"><span style="display: inline-block; position: relative; width: 0.777em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.47em 4.341em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-211" style="font-family: STIXGeneral-Italic;">q</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.519em;"><span class="mi" id="MathJax-Span-212" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-213"><span style="display: inline-block; position: relative; width: 0.777em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.31em 4.29em -999.997em); top: -3.975em; left: 0em;"><span class="mo" id="MathJax-Span-214" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -4.388em; left: 0.313em;"><span class="mn" id="MathJax-Span-215" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.032em;"></span></span><span style="position: absolute; clip: rect(2.998em 1005.17em 3.36em -999.997em); top: -5.214em; left: 1.139em;"><span style="display: inline-block; position: relative; width: 5.168em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.975em; left: 0em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.975em; left: 4.651em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 0.416em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 0.829em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 1.242em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 1.707em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 2.12em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 2.534em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 2.947em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 3.412em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 3.825em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.975em; left: 4.238em;">‾<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(4.496em 1001.19em 8.474em -999.997em); top: -6.712em; left: 0em;"><span style="display: inline-block; position: relative; width: 1.191em; height: 0px;"><span style="position: absolute; font-family: STIXNonUnicode-Regular; top: -3.303em; left: 0em;"><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.669em; left: 0em;">⎷<span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXNonUnicode-Regular; position: absolute; top: -2.787em; left: 0em;"><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="font-family: STIXNonUnicode-Regular; position: absolute; top: -2.167em; left: 0em;"><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.651em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.997em; border-left: 0px solid; width: 0px; height: 4.566em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msqrt><mo stretchy="false">(</mo><msub><mi>p</mi><mn>1</mn></msub><mo>−</mo><msub><mi>q</mi><mn>1</mn></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msub><mi>p</mi><mn>2</mn></msub><mo>−</mo><msub><mi>q</mi><mn>2</mn></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo>⋯</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>p</mi><mi>k</mi></msub><mo>−</mo><msub><mi>q</mi><mi>k</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></msqrt><mo>=</mo><msqrt><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mo stretchy="false">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo>−</mo><msub><mi>q</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></msqrt></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-33">

    \sqrt{(p_1 - q_1)^2 + (p_2 - q_2)^2 + \cdots + (p_k - q_k)^2} =
    \sqrt{\sum_{i = 1}^k (p_i - q_i)^2}

</script>

<p>Note that minimizing the distance is the same as minimizing squared-distance,
so you can avoid invoking the square root, and just compare squared distances
throughout your code:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Point&lt;3&gt; target        (1, 3, 5);
Point&lt;3&gt; currentBest1  (1, 3, 2);
Point&lt;3&gt; possibleBest1 (2, 4, 4);
Point&lt;3&gt; currentBest2  (1, 3, 6);
Point&lt;3&gt; possibleBest2 (2, 4, 4);
Point&lt;3&gt; currentBest3  (0, 2, 4);
Point&lt;3&gt; possibleBest3 (2, 4, 6);
cout &lt;&lt; shouldReplace(target, currentBest1, possibleBest1) &lt;&lt; endl; <span style="color:#008000">// should print true
</span><span style="color:#008000"></span>cout &lt;&lt; shouldReplace(target, currentBest2, possibleBest2) &lt;&lt; endl; <span style="color:#008000">// should print false
</span><span style="color:#008000"></span>cout &lt;&lt; shouldReplace(target, currentBest3, possibleBest3) &lt;&lt; endl; <span style="color:#008000">// based on operator&lt;, this should be false!!!
</span><span style="color:#008000"></span></code></pre></div>
<h3 id="implementing-the-kdtree-constructor">Implementing the <code>KDTree</code> Constructor<a href="#implementing-the-kdtree-constructor" class="header-anchor"></a></h3>

<p>Please see the Doxygen for the <a href="https://courses.engr.illinois.edu/cs225/fa2017//doxygen/mp5/classKDTree.html#a2b29b6675805718d7963cb187bc6d602"><code>KDTree</code> constructor</a>.</p>

<p>This takes a single parameter, a reference to a constant <a href="http://en.cppreference.com/w/cpp/container/vector"><code>std::vector</code></a> of
<code>Point&lt;Dim&gt;</code>s. The constructor should build the tree using recursive helper
function(s).</p>

<p>Just like there is a way to represent a balanced binary search tree using a
specially sorted vector of numbers (how?), we can specially sort a vector of
points in such a way that it represents a <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-34-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-216" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-217"><span class="mi" id="MathJax-Span-218" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-34">k</script>-d tree. More specifically, in
the <code>KDTree</code> constructor, we are interested in copying the input list of points
into a points vector, and sorting this vector such that it represents a <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-35-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-219" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-220"><span class="mi" id="MathJax-Span-221" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-35">k</script>-d
tree.</p>

<div class="alert alert-success">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"></path></svg>
    <strong>Definition</strong>
<p>A rooted binary tree <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-36-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-222" style="width: 0.777em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.622em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.62em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-223"><span class="mi" id="MathJax-Span-224" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span><script type="math/tex" id="MathJax-Element-36">T</script> is a <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-37-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-225" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-226"><span class="mi" id="MathJax-Span-227" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-37">k</script>-d tree if:</p>

<ul>
<li><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-38-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-228" style="width: 0.777em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.622em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.62em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-229"><span class="mi" id="MathJax-Span-230" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span><script type="math/tex" id="MathJax-Element-38">T</script> is empty, OR</li>

<li><p><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-39-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-231" style="width: 0.777em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.622em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.62em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-232"><span class="mi" id="MathJax-Span-233" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span><script type="math/tex" id="MathJax-Element-39">T</script> consists of</p>

<ul>
<li>A <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-40-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-234" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-235"><span class="mi" id="MathJax-Span-236" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-40">k</script>-dimensional point <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-41-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-237" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.42em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-238"><span class="mi" id="MathJax-Span-239" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></span></span><script type="math/tex" id="MathJax-Element-41">r</script> that represents the root of the tree.</li>
<li>A splitting dimension <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-42-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-240" style="width: 0.726em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.571em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.57em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-241"><span class="mi" id="MathJax-Span-242" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-42">d</script></li>
<li>Two <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-43-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-243" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-244"><span class="mi" id="MathJax-Span-245" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-43">k</script>-d tree subtrees <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-44-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-246" style="width: 1.294em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.294em 1001.04em 2.43em -999.997em); top: -2.115em; left: 0em;"><span class="mrow" id="MathJax-Span-247"><span class="msubsup" id="MathJax-Span-248"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.62em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-249" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.571em;"><span class="mi" id="MathJax-Span-250" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>L</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-44">T_L</script> and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-45-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-251" style="width: 1.346em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.087em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.294em 1001.09em 2.43em -999.997em); top: -2.115em; left: 0em;"><span class="mrow" id="MathJax-Span-252"><span class="msubsup" id="MathJax-Span-253"><span style="display: inline-block; position: relative; width: 1.087em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.62em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-254" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.571em;"><span class="mi" id="MathJax-Span-255" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>R</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-45">T_R</script> of splitting dimension
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-46-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo lspace=&quot;thickmathspace&quot; rspace=&quot;thickmathspace&quot;&gt;mod&lt;/mo&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-256" style="width: 7.027em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.788em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1005.79em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-257"><span class="mo" id="MathJax-Span-258" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-259" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mo" id="MathJax-Span-260" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="mn" id="MathJax-Span-261" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">1</span><span class="mo" id="MathJax-Span-262" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-263" style="font-family: STIXGeneral-Regular; padding-left: 0.313em; padding-right: 0.313em;">mod</span><span class="mi" id="MathJax-Span-264" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>d</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo lspace="thickmathspace" rspace="thickmathspace">mod</mo><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-46">(d+1) \bmod k</script> such that

<ul>
<li>if <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-47-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-265" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-266"><span class="mi" id="MathJax-Span-267" style="font-family: STIXGeneral-Italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span><script type="math/tex" id="MathJax-Element-47">v</script> is an element in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-48-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-268" style="width: 1.294em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.294em 1001.04em 2.43em -999.997em); top: -2.115em; left: 0em;"><span class="mrow" id="MathJax-Span-269"><span class="msubsup" id="MathJax-Span-270"><span style="display: inline-block; position: relative; width: 1.036em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.62em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-271" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.571em;"><span class="mi" id="MathJax-Span-272" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>L</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-48">T_L</script>, then <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-49-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-273" style="width: 3.618em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.998em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.707em 1003em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-274"><span class="msubsup" id="MathJax-Span-275"><span style="display: inline-block; position: relative; width: 0.881em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.42em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-276" style="font-family: STIXGeneral-Italic;">v</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.467em;"><span class="mi" id="MathJax-Span-277" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-278" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="msubsup" id="MathJax-Span-279" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.829em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.42em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-280" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.416em;"><span class="mi" id="MathJax-Span-281" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.066em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>v</mi><mi>d</mi></msub><mo>≤</mo><msub><mi>r</mi><mi>d</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-49">v_d \le r_d</script></li>
<li>if <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-50-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-282" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-283"><span class="mi" id="MathJax-Span-284" style="font-family: STIXGeneral-Italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span><script type="math/tex" id="MathJax-Element-50">v</script> is an element in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-51-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-285" style="width: 1.346em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.087em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.294em 1001.09em 2.43em -999.997em); top: -2.115em; left: 0em;"><span class="mrow" id="MathJax-Span-286"><span class="msubsup" id="MathJax-Span-287"><span style="display: inline-block; position: relative; width: 1.087em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.62em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-288" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.571em;"><span class="mi" id="MathJax-Span-289" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>T</mi><mi>R</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-51">T_R</script>, then <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-52-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2265;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-290" style="width: 3.618em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.998em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.707em 1003em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-291"><span class="msubsup" id="MathJax-Span-292"><span style="display: inline-block; position: relative; width: 0.881em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.42em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-293" style="font-family: STIXGeneral-Italic;">v</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.467em;"><span class="mi" id="MathJax-Span-294" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-295" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≥</span><span class="msubsup" id="MathJax-Span-296" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.829em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.42em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-297" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.416em;"><span class="mi" id="MathJax-Span-298" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.066em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>v</mi><mi>d</mi></msub><mo>≥</mo><msub><mi>r</mi><mi>d</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-52">v_d \ge r_d</script></li>
</ul></li>
</ul>

<p>where <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-53-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-299" style="width: 1.087em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.881em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.501em 1000.88em 2.43em -999.997em); top: -2.115em; left: 0em;"><span class="mrow" id="MathJax-Span-300"><span class="msubsup" id="MathJax-Span-301"><span style="display: inline-block; position: relative; width: 0.881em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.42em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-302" style="font-family: STIXGeneral-Italic;">v</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.467em;"><span class="mi" id="MathJax-Span-303" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.878em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>v</mi><mi>d</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-53">v_d</script> and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-54-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-304" style="width: 1.036em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.829em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.501em 1000.83em 2.43em -999.997em); top: -2.115em; left: 0em;"><span class="mrow" id="MathJax-Span-305"><span class="msubsup" id="MathJax-Span-306"><span style="display: inline-block; position: relative; width: 0.829em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.42em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-307" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.416em;"><span class="mi" id="MathJax-Span-308" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.878em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mi>d</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-54">r_d</script> are the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-55-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-309" style="width: 0.726em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.571em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.57em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-310"><span class="mi" id="MathJax-Span-311" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-55">d</script>th components of the points <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-56-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-312" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-313"><span class="mi" id="MathJax-Span-314" style="font-family: STIXGeneral-Italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span><script type="math/tex" id="MathJax-Element-56">v</script>
and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-57-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-315" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.42em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-316"><span class="mi" id="MathJax-Span-317" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></span></span><script type="math/tex" id="MathJax-Element-57">r</script>. This property of <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-58-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-318" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-319"><span class="mi" id="MathJax-Span-320" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-58">k</script>-d trees is called its <strong>recursive
property</strong> because, similar to binary search trees, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-59-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-321" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-322"><span class="mi" id="MathJax-Span-323" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-59">k</script>-d trees are
recursive data structures.</p>

<p>Furthermore, in our implementation, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-60-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-324" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.42em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-325"><span class="mi" id="MathJax-Span-326" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></span></span><script type="math/tex" id="MathJax-Element-60">r</script> is the <strong>median</strong> of all the
points (defined below) in <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-61-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-327" style="width: 0.777em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.622em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.62em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-328"><span class="mi" id="MathJax-Span-329" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span><script type="math/tex" id="MathJax-Element-61">T</script> in dimension <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-62-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-330" style="width: 0.726em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.571em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.57em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-331"><span class="mi" id="MathJax-Span-332" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-62">d</script>.</p></li>
</ul>

<p>We define the <strong>median</strong> of the points across a splitting dimension <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-63-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-333" style="width: 0.726em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.571em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.57em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-334"><span class="mi" id="MathJax-Span-335" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-63">d</script> to be
the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-64-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow&gt;&lt;mo&gt;&amp;#x230A;&lt;/mo&gt;&lt;mfrac&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt;&lt;mo&gt;&amp;#x230B;&lt;/mo&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-336" style="width: 1.965em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.604em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.914em 1001.45em 3.463em -999.997em); top: -2.942em; left: 0em;"><span class="mrow" id="MathJax-Span-337"><span class="mrow" id="MathJax-Span-338"><span class="mo" id="MathJax-Span-339" style="vertical-align: -0.204em;"><span style="font-family: STIXSizeOneSym;">⌊</span></span><span class="mfrac" id="MathJax-Span-340"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; margin-right: 0.106em; margin-left: 0.106em;"><span style="position: absolute; clip: rect(3.515em 1000.31em 4.135em -999.997em); top: -4.388em; left: 50%; margin-left: -0.152em;"><span class="mi" id="MathJax-Span-341" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.31em 4.135em -999.997em); top: -3.613em; left: 50%; margin-left: -0.152em;"><span class="mn" id="MathJax-Span-342" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(0.881em 1000.47em 1.242em -999.997em); top: -1.289em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.467em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.087em;"></span></span></span></span><span class="mo" id="MathJax-Span-343" style="vertical-align: -0.204em;"><span style="font-family: STIXSizeOneSym;">⌋</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.947em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.628em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>⌊</mo><mfrac><mi>n</mi><mn>2</mn></mfrac><mo>⌋</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-64">\left\lfloor\frac{n}{2}\right\rfloor</script> smallest element in a sorted
list using <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-65-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-344" style="width: 0.726em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.571em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.57em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-345"><span class="mi" id="MathJax-Span-346" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-65">d</script>; in other words, it is the <strong>middle-most element</strong> of a (odd
length) sorted list containing <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-66-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-347" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-348"><span class="mi" id="MathJax-Span-349" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-66">n</script> elements. For the general case of the
median of a vector between zero-based indices <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-67-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-350" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.52em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-351"><span class="mi" id="MathJax-Span-352" style="font-family: STIXGeneral-Italic;">a</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-67">a</script> and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-68-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-353" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-354"><span class="mi" id="MathJax-Span-355" style="font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-68">b</script>, the median would
be the element located at <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-69-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow&gt;&lt;mo&gt;&amp;#x230A;&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt;&lt;mo&gt;&amp;#x230B;&lt;/mo&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-356" style="width: 2.947em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.43em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1002.27em 3.463em -999.997em); top: -2.942em; left: 0em;"><span class="mrow" id="MathJax-Span-357"><span class="mrow" id="MathJax-Span-358"><span class="mo" id="MathJax-Span-359" style="vertical-align: -0.204em;"><span style="font-family: STIXSizeOneSym;">⌊</span></span><span class="mfrac" id="MathJax-Span-360"><span style="display: inline-block; position: relative; width: 1.294em; height: 0px; margin-right: 0.106em; margin-left: 0.106em;"><span style="position: absolute; clip: rect(3.36em 1001.19em 4.186em -999.997em); top: -4.388em; left: 50%; margin-left: -0.617em;"><span class="mrow" id="MathJax-Span-361"><span class="mi" id="MathJax-Span-362" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-363" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-364" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.31em 4.135em -999.997em); top: -3.613em; left: 50%; margin-left: -0.152em;"><span class="mn" id="MathJax-Span-365" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(0.881em 1001.29em 1.242em -999.997em); top: -1.289em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.294em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.087em;"></span></span></span></span><span class="mo" id="MathJax-Span-366" style="vertical-align: -0.204em;"><span style="font-family: STIXSizeOneSym;">⌋</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.947em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>⌊</mo><mfrac><mrow><mi>a</mi><mo>+</mo><mi>b</mi></mrow><mn>2</mn></mfrac><mo>⌋</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-69">\left\lfloor\frac{a+b}{2}\right\rfloor</script>.</p>

</div>

<p>The <strong>median index</strong> of <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-70-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-367" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-368"><span class="mi" id="MathJax-Span-369" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-70">n</script> nodes is calculated as the cell
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-71-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow&gt;&lt;mo&gt;&amp;#x230A;&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt;&lt;mo&gt;&amp;#x230B;&lt;/mo&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-370" style="width: 2.998em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.482em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(2.017em 1002.27em 3.722em -999.997em); top: -3.148em; left: 0em;"><span class="mrow" id="MathJax-Span-371"><span class="mrow" id="MathJax-Span-372"><span class="mo" id="MathJax-Span-373" style="vertical-align: -0.256em;"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">⌊</span></span></span><span class="mfrac" id="MathJax-Span-374"><span style="display: inline-block; position: relative; width: 1.294em; height: 0px; margin-right: 0.106em; margin-left: 0.106em;"><span style="position: absolute; clip: rect(3.36em 1001.14em 4.238em -999.997em); top: -4.491em; left: 50%; margin-left: -0.617em;"><span class="mrow" id="MathJax-Span-375"><span class="mi" id="MathJax-Span-376" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-377" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-378" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.31em 4.135em -999.997em); top: -3.613em; left: 50%; margin-left: -0.152em;"><span class="mn" id="MathJax-Span-379" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(0.881em 1001.29em 1.242em -999.997em); top: -1.289em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.294em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.087em;"></span></span></span></span><span class="mo" id="MathJax-Span-380" style="vertical-align: -0.256em;"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">⌋</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.153em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.816em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>⌊</mo><mfrac><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><mn>2</mn></mfrac><mo>⌋</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-71">\left\lfloor\frac{n-1}{2}\right\rfloor</script>. That is, the middle index is
selected if there are an odd number of items, and the item before the middle if
there are an even number of items. <strong>If there are ties (two points have equal
value along a dimension), they must be decided using the <code>Point</code> class’s
<code>operator&lt;</code>.</strong> Although this is arbitrary and doesn’t affect the functionality
of the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-72-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-381" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-382"><span class="mi" id="MathJax-Span-383" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-72">k</script>-d tree, it is required to be able to grade your code.</p>

<p>The <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-73-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-384" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-385"><span class="mi" id="MathJax-Span-386" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-73">k</script>-d tree construction algorithm is defined recursively as follows for a
vector of points between indices <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-74-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-387" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.52em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-388"><span class="mi" id="MathJax-Span-389" style="font-family: STIXGeneral-Italic;">a</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-74">a</script> and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-75-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-390" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-391"><span class="mi" id="MathJax-Span-392" style="font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-75">b</script> at splitting dimension <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-76-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-393" style="width: 0.726em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.571em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.57em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-394"><span class="mi" id="MathJax-Span-395" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-76">d</script>:</p>

<ol>
<li>Find the median of points with respect to dimension <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-77-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-396" style="width: 0.726em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.571em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.57em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-397"><span class="mi" id="MathJax-Span-398" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-77">d</script>.</li>
<li>Place the median point <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-78-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-399" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.42em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-400"><span class="mi" id="MathJax-Span-401" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></span></span><script type="math/tex" id="MathJax-Element-78">r</script> at index <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-79-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;&amp;#x230A;&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt;&lt;mo&gt;&amp;#x230B;&lt;/mo&gt;&lt;/mrow&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-402" style="width: 5.374em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.445em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1004.29em 3.463em -999.997em); top: -2.942em; left: 0em;"><span class="mrow" id="MathJax-Span-403"><span class="mi" id="MathJax-Span-404" style="font-family: STIXGeneral-Italic;">m</span><span class="mo" id="MathJax-Span-405" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mrow" id="MathJax-Span-406" style="padding-left: 0.313em;"><span class="mo" id="MathJax-Span-407" style="vertical-align: -0.204em;"><span style="font-family: STIXSizeOneSym;">⌊</span></span><span class="mfrac" id="MathJax-Span-408"><span style="display: inline-block; position: relative; width: 1.294em; height: 0px; margin-right: 0.106em; margin-left: 0.106em;"><span style="position: absolute; clip: rect(3.36em 1001.19em 4.186em -999.997em); top: -4.388em; left: 50%; margin-left: -0.617em;"><span class="mrow" id="MathJax-Span-409"><span class="mi" id="MathJax-Span-410" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-411" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mi" id="MathJax-Span-412" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.31em 4.135em -999.997em); top: -3.613em; left: 50%; margin-left: -0.152em;"><span class="mn" id="MathJax-Span-413" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(0.881em 1001.29em 1.242em -999.997em); top: -1.289em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.294em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.087em;"></span></span></span></span><span class="mo" id="MathJax-Span-414" style="vertical-align: -0.204em;"><span style="font-family: STIXSizeOneSym;">⌋</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.947em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mo>=</mo><mrow><mo>⌊</mo><mfrac><mrow><mi>a</mi><mo>+</mo><mi>b</mi></mrow><mn>2</mn></mfrac><mo>⌋</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-79">m =
\left\lfloor\frac{a+b}{2}\right\rfloor</script> such that

<ul>
<li>if point <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-80-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-415" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-416"><span class="mi" id="MathJax-Span-417" style="font-family: STIXGeneral-Italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span><script type="math/tex" id="MathJax-Element-80">v</script> is between indices <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-81-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-418" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.52em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-419"><span class="mi" id="MathJax-Span-420" style="font-family: STIXGeneral-Italic;">a</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-81">a</script> and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-82-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-421" style="width: 2.947em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.43em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.33em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-422"><span class="mi" id="MathJax-Span-423" style="font-family: STIXGeneral-Italic;">m</span><span class="mo" id="MathJax-Span-424" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">−</span><span class="mn" id="MathJax-Span-425" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-82">m-1</script>, then <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-83-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-426" style="width: 3.618em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.998em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.707em 1003em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-427"><span class="msubsup" id="MathJax-Span-428"><span style="display: inline-block; position: relative; width: 0.881em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.42em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-429" style="font-family: STIXGeneral-Italic;">v</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.467em;"><span class="mi" id="MathJax-Span-430" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-431" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="msubsup" id="MathJax-Span-432" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.829em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.42em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-433" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.416em;"><span class="mi" id="MathJax-Span-434" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.066em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>v</mi><mi>d</mi></msub><mo>≤</mo><msub><mi>r</mi><mi>d</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-83">v_d \leq r_d</script></li>
<li>if point <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-84-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-435" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-436"><span class="mi" id="MathJax-Span-437" style="font-family: STIXGeneral-Italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi></math></span></span><script type="math/tex" id="MathJax-Element-84">v</script> is between indices <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-85-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-438" style="width: 2.947em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.43em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.33em 2.689em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-439"><span class="mi" id="MathJax-Span-440" style="font-family: STIXGeneral-Italic;">m</span><span class="mo" id="MathJax-Span-441" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="mn" id="MathJax-Span-442" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.122em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-85">m+1</script> and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-86-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-443" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-444"><span class="mi" id="MathJax-Span-445" style="font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-86">b</script>, then <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-87-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2265;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-446" style="width: 3.618em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.998em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.707em 1003em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-447"><span class="msubsup" id="MathJax-Span-448"><span style="display: inline-block; position: relative; width: 0.881em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.42em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-449" style="font-family: STIXGeneral-Italic;">v</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.467em;"><span class="mi" id="MathJax-Span-450" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span><span class="mo" id="MathJax-Span-451" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≥</span><span class="msubsup" id="MathJax-Span-452" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.829em; height: 0px;"><span style="position: absolute; clip: rect(3.36em 1000.42em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-453" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.416em;"><span class="mi" id="MathJax-Span-454" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.066em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>v</mi><mi>d</mi></msub><mo>≥</mo><msub><mi>r</mi><mi>d</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-87">v_d \geq r_d</script></li>
</ul></li>
<li>Recurse on the indices between <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-88-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-455" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.52em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-456"><span class="mi" id="MathJax-Span-457" style="font-family: STIXGeneral-Italic;">a</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-88">a</script> though <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-89-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-458" style="width: 2.947em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.43em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.33em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-459"><span class="mi" id="MathJax-Span-460" style="font-family: STIXGeneral-Italic;">m</span><span class="mo" id="MathJax-Span-461" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">−</span><span class="mn" id="MathJax-Span-462" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-89">m-1</script>, and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-90-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-463" style="width: 2.947em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.43em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.33em 2.689em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-464"><span class="mi" id="MathJax-Span-465" style="font-family: STIXGeneral-Italic;">m</span><span class="mo" id="MathJax-Span-466" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="mn" id="MathJax-Span-467" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.122em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-90">m+1</script> through
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-91-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-468" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-469"><span class="mi" id="MathJax-Span-470" style="font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-91">b</script> using splitting dimension <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-92-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo lspace=&quot;thickmathspace&quot; rspace=&quot;thickmathspace&quot;&gt;mod&lt;/mo&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-471" style="width: 7.027em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.788em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1005.79em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-472"><span class="mo" id="MathJax-Span-473" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-474" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mo" id="MathJax-Span-475" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">+</span><span class="mn" id="MathJax-Span-476" style="font-family: STIXGeneral-Regular; padding-left: 0.261em;">1</span><span class="mo" id="MathJax-Span-477" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-478" style="font-family: STIXGeneral-Regular; padding-left: 0.313em; padding-right: 0.313em;">mod</span><span class="mi" id="MathJax-Span-479" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>d</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo lspace="thickmathspace" rspace="thickmathspace">mod</mo><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-92">(d+1) \bmod k</script>.</li>
</ol>

<p>To satisfy steps 1 and 2 of the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-93-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-480" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-481"><span class="mi" id="MathJax-Span-482" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-93">k</script>-d tree construction algorithm, we
recommend finding the median of the vector of points using <strong>quickselect</strong>.
The <a href="https://en.wikipedia.org/wiki/Quickselect">quickselect algorithm</a> allows you to find the median of
the vector while achieving the constraints mentioned in step 2. We recommend
that you first understand the algorithm and then write your own code from
scratch to implement it. This will make debugging far, far easier.</p>

<div class="alert alert-danger">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg>
    <strong>Forbidden Functions</strong>
<p>Note that you are <strong>not</strong> allowed to use any standard library functions to sort
the data or find the median of the <code>vector</code>. This includes functions in
<code>&lt;algorithm&gt;</code> like <code>std::sort</code> and <code>std::nth_element</code>. For a complete list see
the functions in <code>mp5_provided/no_sort.h</code>.</p>

</div>

<div class="alert alert-info">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></svg>
    <strong>Example</strong>
<p>Here’s an example of how the algorithm works on the array below.</p>

<style type="text/css" scoped="">
.mp5-table {
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 10px;
    font-size: larger;
}
.mp5-table th, .mp5-table td {
    text-align: center;
}
.mp5-table td {
    width: 4em;
    padding: 2px 6px;
    border: 1px solid;
}
.mp5-table td.blank {
}
.mp5-table td.level-0 {
    font-weight: bold;
    background-color: #FFCE66;
}
.mp5-table td.level-1 {
    font-weight: bold;
    background-color: #79E0FF;
}
.mp5-table td.level-2 {
    font-weight: bold;
    background-color: #FAA23E;
}
.mp5-table td.level-3 {
    font-weight: bold;
    background-color: #82CAEF;
}
</style>

<table class="mp5-table">
    <thead>
        <tr>
            <th>0</th>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5</th>
            <th>6</th>
            <th>7</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>(3, 2)</td>
            <td>(5, 8)</td>
            <td>(6, 1)</td>
            <td>(4, 4)</td>
            <td>(9, 0)</td>
            <td>(1, 1)</td>
            <td>(2, 2)</td>
            <td>(8, 7)</td>
        </tr>
    </tbody>
</table>

<p>With respect to splitting dimension <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-94-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-483" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.52em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-484"><span class="mn" id="MathJax-Span-485" style="font-family: STIXGeneral-Regular;">0</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-94">0</script>, we would now find the median of
these points, and place it in index
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-95-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mrow&gt;&lt;mo&gt;&amp;#x230A;&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt;&lt;mo&gt;&amp;#x230B;&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-486" style="width: 5.168em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.238em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1004.19em 3.463em -999.997em); top: -2.942em; left: 0em;"><span class="mrow" id="MathJax-Span-487"><span class="mrow" id="MathJax-Span-488"><span class="mo" id="MathJax-Span-489" style="vertical-align: -0.204em;"><span style="font-family: STIXSizeOneSym;">⌊</span></span><span class="mfrac" id="MathJax-Span-490"><span style="display: inline-block; position: relative; width: 1.294em; height: 0px; margin-right: 0.106em; margin-left: 0.106em;"><span style="position: absolute; clip: rect(3.36em 1001.14em 4.186em -999.997em); top: -4.388em; left: 50%; margin-left: -0.617em;"><span class="mrow" id="MathJax-Span-491"><span class="mn" id="MathJax-Span-492" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-493" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-494" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">7</span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(3.36em 1000.31em 4.135em -999.997em); top: -3.613em; left: 50%; margin-left: -0.152em;"><span class="mn" id="MathJax-Span-495" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; clip: rect(0.881em 1001.29em 1.242em -999.997em); top: -1.289em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.294em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.087em;"></span></span></span></span><span class="mo" id="MathJax-Span-496" style="vertical-align: -0.204em;"><span style="font-family: STIXSizeOneSym;">⌋</span></span></span><span class="mo" id="MathJax-Span-497" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-498" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.947em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>⌊</mo><mfrac><mrow><mn>0</mn><mo>+</mo><mn>7</mn></mrow><mn>2</mn></mfrac><mo>⌋</mo></mrow><mo>=</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-95">\left\lfloor\frac{0+7}{2}\right\rfloor = 3</script>. (This is step 1 and 2 of
the algorithm.) We could achieve this using quickselect. This yields the
following array.</p>

<table class="mp5-table">
    <thead>
        <tr>
            <th>0</th>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5</th>
            <th>6</th>
            <th>7</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="blank"></td>
            <td class="blank"></td>
            <td class="blank"></td>
            <td class="level-0">(4, 4)</td>
            <td class="blank"></td>
            <td class="blank"></td>
            <td class="blank"></td>
            <td class="blank"></td>
        </tr>
    </tbody>
</table>

<p>What’s important to note is that the two sublists contained in indices 0–2 and
4–7, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-96-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-499" style="width: 1.191em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.294em 1000.98em 2.43em -999.997em); top: -2.115em; left: 0em;"><span class="mrow" id="MathJax-Span-500"><span class="msubsup" id="MathJax-Span-501"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.57em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-502" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.571em;"><span class="mn" id="MathJax-Span-503" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>L</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-96">L_1</script> and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-97-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-504" style="width: 1.191em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.294em 1000.98em 2.43em -999.997em); top: -2.115em; left: 0em;"><span class="mrow" id="MathJax-Span-505"><span class="msubsup" id="MathJax-Span-506"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.57em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-507" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.571em;"><span class="mn" id="MathJax-Span-508" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>L</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-97">L_2</script> respectively, achieve the constraint mentioned in
step 2 of the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-98-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-509" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-510"><span class="mi" id="MathJax-Span-511" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-98">k</script>-d tree construction algorithm. (See above.) Hence, the full
list may appear like this:</p>

<table class="mp5-table">
    <thead>
        <tr>
            <th>0</th>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5</th>
            <th>6</th>
            <th>7</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="blank">(1, 1)</td>
            <td class="blank">(3, 2)</td>
            <td class="blank">(2, 2)</td>
            <td class="level-0">(4, 4)</td>
            <td class="blank">(6, 1)</td>
            <td class="blank">(5, 8)</td>
            <td class="blank">(9, 0)</td>
            <td class="blank">(8, 7)</td>
        </tr>
    </tbody>
</table>

<p>When we recursively call the algorithm on <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-99-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-512" style="width: 1.191em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.294em 1000.98em 2.43em -999.997em); top: -2.115em; left: 0em;"><span class="mrow" id="MathJax-Span-513"><span class="msubsup" id="MathJax-Span-514"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.57em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-515" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.571em;"><span class="mn" id="MathJax-Span-516" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>L</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-99">L_1</script> and <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-100-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-517" style="width: 1.191em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.294em 1000.98em 2.43em -999.997em); top: -2.115em; left: 0em;"><span class="mrow" id="MathJax-Span-518"><span class="msubsup" id="MathJax-Span-519"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px;"><span style="position: absolute; clip: rect(3.153em 1000.57em 4.135em -999.997em); top: -3.975em; left: 0em;"><span class="mi" id="MathJax-Span-520" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span><span style="position: absolute; top: -3.82em; left: 0.571em;"><span class="mn" id="MathJax-Span-521" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 3.98em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.12em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>L</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-100">L_2</script> using splitting
dimension <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-101-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-522" style="width: 0.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.519em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.42em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-523"><span class="mn" id="MathJax-Span-524" style="font-family: STIXGeneral-Regular;">1</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-101">1</script> (step 3), we achieve the following ordering. (Follow along this
example using pen and paper.)</p>

<table class="mp5-table">
    <thead>
        <tr>
            <th>0</th>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5</th>
            <th>6</th>
            <th>7</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="level-2">(1, 1)</td>
            <td class="level-1">(2, 2)</td>
            <td class="level-2">(3, 2)</td>
            <td class="level-0">(4, 4)</td>
            <td class="level-2">(9, 0)</td>
            <td class="level-1">(6, 1)</td>
            <td class="level-2">(5, 8)</td>
            <td class="level-3">(8, 7)</td>
        </tr>
    </tbody>
</table>

<p>This, likewise, represents the following <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-102-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-525" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-526"><span class="mi" id="MathJax-Span-527" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-102">k</script>-d tree:</p>

<script type="x/graph">
graph G {
    graph [ordering="out"];

    node [style=filled, fillcolor="#FFCE66"];
    "(4, 4)";
    node [style=filled, fillcolor="#79E0FF"];
    "(2, 2)";
    "(6, 1)";
    node [style=filled, fillcolor="#FAA23E"];
    "(1, 1)";
    "(3, 2)";
    "(9, 0)";
    "(5, 8)";
    node [style=filled, fillcolor="#82CAEF"];
    "(8, 7)";
    node[label="",width=.1,style=invisible]

    i2 [width=1];
    i4 [label="(0, 0)"];

    "(4, 4)" -- "(2, 2)";
        "(2, 2)" -- "(1, 1)";
        "(2, 2)" -- i1 [style=invisible];
        "(2, 2)" -- "(3, 2)";
    "(4, 4)" -- i2 [style=invisible];
    "(4, 4)" -- "(6, 1)";
        "(6, 1)" -- "(9, 0)";
        "(6, 1)" -- i3 [style=invisible];
        "(6, 1)" -- "(5, 8)";
            "(5, 8)" -- i4 [style=invisible];
            "(5, 8)" -- "(8, 7)";
}
</script><div id="graph-0-loading" class="graph-loading">Loading graph...</div>

<p>The orange colors represent nodes that were split across the 0th dimension,
while the blue colors represent nodes that were split across the 1st dimension.
(Why is <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-103-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;lt;&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-528" style="width: 6.717em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.529em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1005.48em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-529"><span class="mo" id="MathJax-Span-530" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-531" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-532" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-533" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">2</span><span class="mo" id="MathJax-Span-534" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-535" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">&lt;</span><span class="mo" id="MathJax-Span-536" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">(</span><span class="mn" id="MathJax-Span-537" style="font-family: STIXGeneral-Regular;">3</span><span class="mo" id="MathJax-Span-538" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-539" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">2</span><span class="mo" id="MathJax-Span-540" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>2</mn><mo stretchy="false">)</mo><mo>&lt;</mo><mo stretchy="false">(</mo><mn>3</mn><mo>,</mo><mn>2</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-103">(2, 2) < (3, 2)</script> with respect to the 1st dimension?)</p>

</div>

<h3 id="implementing-findnearestneighbor">Implementing <code>findNearestNeighbor</code><a href="#implementing-findnearestneighbor" class="header-anchor"></a></h3>

<p>Please see the Doxygen for <a href="https://courses.engr.illinois.edu/cs225/fa2017//doxygen/mp5/classKDTree.html#af16be75e9218a0da8c12c21eb10b08d3"><code>findNearestNeighbor</code></a>.</p>

<p>This function takes a reference to a template parameter <code>Point</code> and returns the
<code>Point</code> closest to it in the tree. We are defining closest here to be the
minimum Euclidean distance between elements. Again, <strong>if there are ties (this
time in distance), they must be decided using the <code>Point</code> class’s
<code>operator&lt;</code></strong>.</p>

<p>The <code>findNearestNeighbor</code> search is done in two steps: a search to find the
smallest hyperrectangle that contains the target element, and then a back
traversal to see if any other hyperrectangle could contain a closer point,
which may be a point with smaller distance or a point with equal distance, but
a “smaller” point (as defined by <code>operator&lt;</code> in the <code>Point</code> class).</p>

<p>In the first step, you must recursively traverse down the tree, at each level
choosing the subtree which represents the region containing the search element.
(Remember that the criteria for which you choose to recurse left or recurse
right depends on the splitting dimension of the current level.) When you reach
the lowest bounding hyperrectangle, then the corresponding node is effectively
the “current best” neighbor. Note that this search is similar to a binary
search algorithm, except with the possibility of a tie across a level’s
splitting dimension.</p>

<p>At then end of first step of the search, we start traversing back up the
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-104-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-541" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-542"><span class="mi" id="MathJax-Span-543" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-104">k</script>-d tree to the parent node. We now want to find better matches that exist
outside of the containing hyperrectangle. The current best distance defines a
radius which contains the nearest neighbor. During the back-traversal (i.e.,
stepping out of the recursive calls), you must first check if the distance to
the parent node is less than the current radius. If so, then that distance now
defines the radius, and we replace the “current best” match.</p>

<p>Next, it is necessary to check to see if the current splitting plane’s distance
from search node is within the current radius. If so, then the opposite subtree
could contain a closer node, and must also be searched recursively.</p>

<p>During the back-traversal, it is important to only check the subtrees that are
within the current radius, or else the efficiency of the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-105-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-544" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-545"><span class="mi" id="MathJax-Span-546" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-105">k</script>-d tree is lost.
If the distance from the search node to the splitting plane is greater than the
current radius, then there cannot possibly be a better nearest neighbor in the
subtree, so the subtree can be skipped entirely.</p>

<p>Here is a reference we found quite useful in writing our <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-106-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-547" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-548"><span class="mi" id="MathJax-Span-549" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-106">k</script>-d tree: <a href="https://courses.engr.illinois.edu/cs225/fa2017/mps/5/moore-tutorial.pdf">Andrew
Moore’s Kd-tree Tutorial</a>.</p>

<p>You can assume that <code>findNearestNeighbor</code> will only be called on a valid
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-107-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-550" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-551"><span class="mi" id="MathJax-Span-552" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-107">k</script>-d tree.</p>

<p>Here is an example:</p>

<div class="alert alert-info">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></svg>
    <strong>Example</strong>
<p>Suppose we have the same <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-108-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-553" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-554"><span class="mi" id="MathJax-Span-555" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-108">k</script>-d tree as in Figure 1 and that the target point
(in red) is <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-109-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-556" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-557"><span class="mo" id="MathJax-Span-558" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-559" style="font-family: STIXGeneral-Regular;">6</span><span class="mo" id="MathJax-Span-560" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-561" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">3</span><span class="mo" id="MathJax-Span-562" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>6</mn><mo>,</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-109">(6,3)</script>, as shown in the figure below. We wish to find the point
in the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-110-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-563" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-564"><span class="mi" id="MathJax-Span-565" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-110">k</script>-d that is closest to the target; i.e., to determine which of the
black points is closest to the red point.</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-step00.svg">
    
    
</figure>

<p>To start the search, we begin a depth-first search to find the leaf node within
the same splitting plane as the target node. At the root of the tree, the node
is defined by the point <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-111-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-566" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-567"><span class="mo" id="MathJax-Span-568" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-569" style="font-family: STIXGeneral-Regular;">7</span><span class="mo" id="MathJax-Span-570" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-571" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">2</span><span class="mo" id="MathJax-Span-572" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>2</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-111">(7,2)</script>, with the splitting plane based on the first
coordinate. Since <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-112-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo&gt;&amp;lt;&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-573" style="width: 2.843em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.327em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.27em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-574"><span class="mn" id="MathJax-Span-575" style="font-family: STIXGeneral-Regular;">6</span><span class="mo" id="MathJax-Span-576" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">&lt;</span><span class="mn" id="MathJax-Span-577" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">7</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>6</mn><mo>&lt;</mo><mn>7</mn></math></span></span><script type="math/tex" id="MathJax-Element-112">6 < 7</script> (using the target coordinate’s first dimension) we
search the left subtree (the grey region in the figure below).</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-step01.svg">
    
    
</figure>

<p>The child node is defined by <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-113-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-578" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-579"><span class="mo" id="MathJax-Span-580" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-581" style="font-family: STIXGeneral-Regular;">5</span><span class="mo" id="MathJax-Span-582" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-583" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">4</span><span class="mo" id="MathJax-Span-584" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-113">(5,4)</script>, and the splitting plane is based on the
second coordinate. Again, the target node <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-114-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-585" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-586"><span class="mo" id="MathJax-Span-587" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-588" style="font-family: STIXGeneral-Regular;">6</span><span class="mo" id="MathJax-Span-589" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-590" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">3</span><span class="mo" id="MathJax-Span-591" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>6</mn><mo>,</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-114">(6,3)</script> is in the left subtree, so
we split left.</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-step02.svg">
    
    
</figure>

<p>At the next step, we hit a leaf node, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-115-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-592" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-593"><span class="mo" id="MathJax-Span-594" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-595" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-596" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-597" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">3</span><span class="mo" id="MathJax-Span-598" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-115">(2,3)</script>. At this point, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-116-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-599" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-600"><span class="mo" id="MathJax-Span-601" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-602" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-603" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-604" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">3</span><span class="mo" id="MathJax-Span-605" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-116">(2,3)</script>
becomes our current best node, and the distance from the target node to
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-117-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-606" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-607"><span class="mo" id="MathJax-Span-608" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-609" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-610" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-611" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">3</span><span class="mo" id="MathJax-Span-612" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-117">(2,3)</script> defines a “current best” radius, as indicated by the circle below.
That is, any point outside of this radius cannot be the closest point to the
target, since <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-118-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-613" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-614"><span class="mo" id="MathJax-Span-615" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-616" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-617" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-618" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">3</span><span class="mo" id="MathJax-Span-619" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-118">(2,3)</script> will always be closer; however, there may be a point
within the radius that is closer. We now start the back-traversal to check for
other nodes within this radius.</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-step03.svg">
    
    
</figure>

<p>Back at the parent node, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-119-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-620" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-621"><span class="mo" id="MathJax-Span-622" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-623" style="font-family: STIXGeneral-Regular;">5</span><span class="mo" id="MathJax-Span-624" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-625" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">4</span><span class="mo" id="MathJax-Span-626" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-119">(5,4)</script>, we see that it is closer to our target
point than the current best of <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-120-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-627" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-628"><span class="mo" id="MathJax-Span-629" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-630" style="font-family: STIXGeneral-Regular;">2</span><span class="mo" id="MathJax-Span-631" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-632" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">3</span><span class="mo" id="MathJax-Span-633" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>2</mn><mo>,</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-120">(2,3)</script>. So, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-121-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-634" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-635"><span class="mo" id="MathJax-Span-636" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-637" style="font-family: STIXGeneral-Regular;">5</span><span class="mo" id="MathJax-Span-638" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-639" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">4</span><span class="mo" id="MathJax-Span-640" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-121">(5,4)</script> is stored as the
current best, and we update the radius.</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-step04.svg">
    
    
</figure>

<p>The distance from the target point to the splitting plane for the node
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-122-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-641" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-642"><span class="mo" id="MathJax-Span-643" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-644" style="font-family: STIXGeneral-Regular;">5</span><span class="mo" id="MathJax-Span-645" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-646" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">4</span><span class="mo" id="MathJax-Span-647" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-122">(5,4)</script> is within the current radius, so we must search the other subtree,
indicated by the grey region below. This can be visualized as the hypersphere
(in 2-d, a circle) intersecting the region opposite the splitting plane, as
shown by the red region in the figure below. We descend into the subtree and
find a leaf node <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-123-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-648" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-649"><span class="mo" id="MathJax-Span-650" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-651" style="font-family: STIXGeneral-Regular;">4</span><span class="mo" id="MathJax-Span-652" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-653" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">7</span><span class="mo" id="MathJax-Span-654" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>4</mn><mo>,</mo><mn>7</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-123">(4,7)</script>, which is farther away than our current best.</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-step05.svg">
    
    
</figure>

<p>We return all the way to the root node, defined by <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-124-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-655" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-656"><span class="mo" id="MathJax-Span-657" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-658" style="font-family: STIXGeneral-Regular;">7</span><span class="mo" id="MathJax-Span-659" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-660" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">2</span><span class="mo" id="MathJax-Span-661" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>2</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-124">(7,2)</script>. The distance
between this node and the target is exactly equal to the current radius. In
this case, we check <code>Point&lt;2&gt;::operator&lt;</code>, which says our current best of <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-125-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-662" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-663"><span class="mo" id="MathJax-Span-664" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-665" style="font-family: STIXGeneral-Regular;">5</span><span class="mo" id="MathJax-Span-666" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-667" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">4</span><span class="mo" id="MathJax-Span-668" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-125">(5,
4)</script> is less than <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-126-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-669" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-670"><span class="mo" id="MathJax-Span-671" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-672" style="font-family: STIXGeneral-Regular;">7</span><span class="mo" id="MathJax-Span-673" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-674" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">2</span><span class="mo" id="MathJax-Span-675" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>2</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-126">(7, 2)</script>, so we don’t replace the current best node.</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-step06.svg">
    
    
</figure>

<p>Once again, the distance between the splitting plane defined by <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-127-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-676" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-677"><span class="mo" id="MathJax-Span-678" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-679" style="font-family: STIXGeneral-Regular;">7</span><span class="mo" id="MathJax-Span-680" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-681" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">2</span><span class="mo" id="MathJax-Span-682" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>7</mn><mo>,</mo><mn>2</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-127">(7,2)</script> and
the target point is within the current radius (i.e., the red region exists), so
we must search the other subtree.</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-step07.svg">
    
    
</figure>

<p>The target point is less than the splitting plane defined by the node at
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-128-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;9&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-683" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-684"><span class="mo" id="MathJax-Span-685" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-686" style="font-family: STIXGeneral-Regular;">9</span><span class="mo" id="MathJax-Span-687" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-688" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">6</span><span class="mo" id="MathJax-Span-689" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>9</mn><mo>,</mo><mn>6</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-128">(9,6)</script>, so we first descend into the left subtree.</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-step08.svg">
    
    
</figure>

<p>We encounter a leaf node, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-129-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;8&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-690" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-691"><span class="mo" id="MathJax-Span-692" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-693" style="font-family: STIXGeneral-Regular;">8</span><span class="mo" id="MathJax-Span-694" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-695" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">1</span><span class="mo" id="MathJax-Span-696" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>8</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-129">(8,1)</script>, but the distance is greater than the
current best, so we don’t do anything.</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-step09.svg">
    
    
</figure>

<p>We finally step back up the tree, and find there are no more regions that
intersect the hypersphere (i.e., no other rectangles intersect the circle).
Therefore, <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-130-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-697" style="width: 2.585em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.12em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1002.07em 2.792em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-698"><span class="mo" id="MathJax-Span-699" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-700" style="font-family: STIXGeneral-Regular;">5</span><span class="mo" id="MathJax-Span-701" style="font-family: STIXGeneral-Regular;">,</span><span class="mn" id="MathJax-Span-702" style="font-family: STIXGeneral-Regular; padding-left: 0.209em;">4</span><span class="mo" id="MathJax-Span-703" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>5</mn><mo>,</mo><mn>4</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-130">(5,4)</script> is the nearest neighbor, and our search is complete.</p>

<figure style="text-align: center;">
    
    <img src="files/kdtree-step10.svg">
    
    
</figure>

</div>

<h3 id="function-printtree">Function <code>printTree</code><a href="#function-printtree" class="header-anchor"></a></h3>

<p>We’ve provided this function for you! It allows easy printing of the tree, with
code like this:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">KDTree&lt;3&gt; tree(v);
tree.printVectors(cout);
tree.printTree(cout);
</code></pre></div>
<p>Note that the tree is printed as such:</p>

<pre style="color:#A6E22E;">                              (<b>51</b>,                                 
                        ______ 35)_____                            
                 ______/               \______                     
              (44,                            {84,                 
            __ <b>43</b>)_                         __ <b>44</b>}_                
         __/       \__                   __/       \__             
      {<b>28</b>,            (<b>43</b>,            {<b>60</b>,            {<b>88</b>,         
       10}             65)             30}             72}         
     /   \           /   \           /   \           /   \         
  {14,    {48,    (42,    (44,    {59,    {74,    {54,    {95,     
   <b>15</b>}     <b>0</b>}      <b>63</b>)     <b>79</b>)     <b>0</b>}      <b>0</b>}      <b>62</b>}     <b>50</b>}     
            \               \               \       \       \      
            {<b>34</b>,            (<b>49</b>,            {<b>82</b>,    {<b>75</b>,    {<b>96</b>,   
             15}             83)             20}     68}     56}   
</pre>

<p>The bold dimensions are the pivot dimensions at each node. The green indicate
that the tree matched the solution tree. The <code>{ }</code> curly braces indicate that a
node is a land mine - a point that should not be traversed in the given nearest
neighbor search, and will “explode” if you look at it.  Note: <code>operator&lt;&lt;</code>
(i.e. <code>cout &lt;&lt; tree &lt;&lt; endl;</code>) will print out the raw <code>points[]</code> and
<code>point_index[]</code> vectors, and is only intended to be used for grading. If you
want to see the vectors, <code>printVectors()</code> will be more useful. Also, as these
functions are implemented in <code>kdtree_extras.cpp</code>, which will not be used for
grading, please do not modify them. All of your <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-131-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-704" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-705"><span class="mi" id="MathJax-Span-706" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-131">k</script>-d tree code should be in
<code>kdtree.h</code> and <code>kdtree.cpp</code>.</p>

<h3 id="implementation-notes">Implementation Notes<a href="#implementation-notes" class="header-anchor"></a></h3>

<ul>
<li><p>This is a template class with one integer template parameter (i.e. <code>int
Dim</code>). You might be curious why we don’t just let the client specify the
dimension of the tree via the constructor. Since we specify the dimension
through a template, the compiler will assure that the dimension of the
<code>Point</code> class matches the dimension of our <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-132-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-707" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-708"><span class="mi" id="MathJax-Span-709" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-132">k</script>-d tree.</p></li>

<li><p>You should follow the rules of <code>const</code> correctness and design the class to
encapsulate the implementation. That is, any helper functions or instance
variables should be made private.</p></li>
</ul>

<h3 id="testing">Testing<a href="#testing" class="header-anchor"></a></h3>

<p>We have provided a small number of tests for the <code>KDTree</code> class. The test cases
are defined in <code>testkdtree.cpp</code>. Be aware that these are deliberately
insufficient. You should add additional test cases to more thoroughly test your
code. You can compile the unit tests with the following command:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">make test
</code></pre></div>
<p>This will create an executable named <code>test</code>  which
you can execute with the following command to run tests for Part 1:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./test [part=1]
</code></pre></div>
<div class="alert alert-warning">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></svg>
    <strong>Warning</strong>
<p><code>KDTree</code> is a templated class. Recall that template functions are not compiled
if they are never called. Make sure all of your code compiles or we will not be
able to grade your work.</p>

</div>

<h3 id="extra-credit-submission">Extra Credit Submission<a href="#extra-credit-submission" class="header-anchor"></a></h3>

<p>For extra credit, you can submit the code you have implemented and tested for
part one of MP 5. You must submit your work before the extra credit deadline as
listed at the top of this page. See <a href="#handing-in-your-code">Handing in Your
Code</a> for instructions.</p>

<h2 id="part2">MP 5.2<a href="#part2" class="header-anchor"></a></h2>

<p>For the second part of MP 5, you will implement the <code>mapTiles()</code> function which
maps <code>TileImages</code> to a <code>MosaicCanvas</code> based on which <code>TileImage</code> has an average
color that is closest to the average color of that region in the original
image.</p>

<div class="alert alert-success">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"></path></svg>
    
<p><strong><code>HSLAPixel</code> to <code>Point&lt;3&gt;</code> conversion.</strong></p>

<p>Your points should be in H-S-L order and hue must be normalized to [0, 1]. That is, hue/360 should be the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-133-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-710" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-711"><span class="mi" id="MathJax-Span-712" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-133">x</script> (0th
dimension), saturation should be the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-134-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-713" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.47em 2.843em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-714"><span class="mi" id="MathJax-Span-715" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-134">y</script> (1st dimension), and luminance should be the
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-135-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-716" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.914em 1000.42em 2.74em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-717"><span class="mi" id="MathJax-Span-718" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.184em; border-left: 0px solid; width: 0px; height: 0.753em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-135">z</script> (2nd dimension).</p>

</div>

<h4 id="classes-involved-in-mp5-2">Classes Involved in mp5.2<a href="#classes-involved-in-mp5-2" class="header-anchor"></a></h4>

<p>In implementing <code>mapTiles</code>, you will need to interact with a number of classes,
including the <code>KDTree</code> class which you’ve built.</p>

<ul>
<li><a href="https://courses.engr.illinois.edu/cs225/fa2017//doxygen/mp5/classMosaicCanvas.html"><code>MosaicCanvas</code>: Doxygen</a></li>
<li><a href="https://courses.engr.illinois.edu/cs225/fa2017//doxygen/mp5/classTileImage.html"><code>TileImage</code>: Doxygen</a></li>
<li><a href="https://courses.engr.illinois.edu/cs225/fa2017//doxygen/mp5/classSourceImage.html"><code>SourceImage</code>: Doxygen</a></li>
</ul>

<p>The source code for all these classes is provided for you, meaning you can look
at their implementation if you have questions about return types, parameters,
or the way the functions work.</p>

<h3 id="the-maptiles-function">The <code>mapTiles()</code> function<a href="#the-maptiles-function" class="header-anchor"></a></h3>

<p>Please see the <a href="https://courses.engr.illinois.edu/cs225/fa2017//doxygen/mp5/maptiles_8h.html#a4bdec30be914cb272dffdfb9e5aefeba">Doxygen for <code>mapTiles</code></a>.</p>

<p><code>mapTiles()</code> is a function that takes a <code>SourceImage</code> and a vector of
<code>TileImage</code>s and returns a <code>MosaicCanvas</code> pointer. It maps the rectangular
regions of the <code>SourceImage</code> to <code>TileImage</code>s.</p>

<ul>
<li><p>Its parameters are a <code>SourceImage</code> and a constant reference to a
<code>std::vector</code> of <code>TileImage</code> objects in that order.</p></li>

<li><p>It creates a new dynamically allocated <code>MosaicCanvas</code>, with the same number
of rows and columns as the <code>SourceImage</code>, and returns a pointer to this
object.</p></li>

<li><p>For every region in the <code>SourceImage</code>, <code>mapTiles()</code> should take the
<code>TileImage</code> with average color closest to the average color of that region
and place that <code>TileImage</code> into the <code>MosaicCanvas</code> in the same tile position
as the <code>SourceImage</code>’s region.</p></li>

<li><p><code>map_tiles</code> - The locations of the tiles in the mosaic are defined by a
<code>MosaicCanvas</code>. This function should create a new <code>MosaicCanvas</code> which is
appropriately sized based on the rows and columns of tiles in the
<code>SourceImage</code>. Then, each tile in the <code>MosaicCanvas</code> should be set to an
appropriate <code>TileImage</code>, using a <code>KDTree</code> to find the Nearest Neighbor for
each region. Note that most of the real work here is done by building a
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-136-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-719" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.655em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-720"><span class="mi" id="MathJax-Span-721" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-136">k</script>-d tree and using its nearest neighbor search function. Return a pointer
to the created <code>MosaicCanvas</code>. You can assume that the caller of the function
will free it after it has been used.</p></li>
</ul>

<p>You may return <code>NULL</code> in the case of any errors, but we will not test your
function on bad input (e.g., a <code>SourceImage</code> with 0 rows/columns, an empty
vector of <code>TileImages</code>, etc.).</p>

<h3 id="implementation-notes-1">Implementation Notes<a href="#implementation-notes-1" class="header-anchor"></a></h3>

<ul>
<li>There are two classes representing a color in this portion of the MP:
<code>HSLAPixel</code> and <code>Point&lt;3&gt;</code>. You will need to convert between these different
representations.

<ul>
<li>Note that your points should be in H-S-L order and hue must be normalized to [0, 1]. That is, hue/360 should be
the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-137-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-722" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.47em 2.637em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-723"><span class="mi" id="MathJax-Span-724" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-137">x</script> (0th dimension), saturation should be the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-138-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-725" style="width: 0.571em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.467em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.862em 1000.47em 2.843em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-726"><span class="mi" id="MathJax-Span-727" style="font-family: STIXGeneral-Italic;">y</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-138">y</script> (1st dimension), and
luminance should be the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-139-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-728" style="width: 0.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.416em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(1.914em 1000.42em 2.74em -999.997em); top: -2.477em; left: 0em;"><span class="mrow" id="MathJax-Span-729"><span class="mi" id="MathJax-Span-730" style="font-family: STIXGeneral-Italic;">z</span></span><span style="display: inline-block; width: 0px; height: 2.482em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.184em; border-left: 0px solid; width: 0px; height: 0.753em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-139">z</script> (2nd dimension).</li>
</ul></li>
<li>Use your <code>KDTree</code> class to find the nearest neighbor, which is the tile image
that minimizes average color distances.</li>
<li>You can easily convert from a <code>TileImage</code> to its average color using
<code>TileImage::getAverageColor()</code>. You will also need to convert from an average
color to the <code>TileImage</code> that would generate that color. You may want to use
the <code>std::map</code> class to do this.</li>
</ul>

<h3 id="compiling-and-running-a-photomosaic">Compiling and Running A PhotoMosaic<a href="#compiling-and-running-a-photomosaic" class="header-anchor"></a></h3>

<p>After finishing both the <code>KDTree</code> class and the <code>mapTiles</code> function, you can
compile the executable by linking your code with the provided code with the
following command:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">make
</code></pre></div>
<p>The executable created is called <code>photomosaic</code>. You can run it as follows:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./photomosaic background_image.png [tile_directory/] [number of tiles] [pixels per tile] [output_image.png]
</code></pre></div>
<p>Parameters in <code>[square brackets]</code> are optional. Below are the defaults:</p>

<table class="pure-table">
<thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Notes</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>background_image.png</code></td>
<td></td>
<td></td>
</tr>

<tr>
<td><code>tile_directory/</code></td>
<td>EWS-specific</td>
<td>See below (default only valid on EWS)</td>
</tr>

<tr>
<td><code>number of tiles</code></td>
<td>100</td>
<td>The number of tiles to be placed along the shorter dimension of the source image</td>
</tr>

<tr>
<td><code>pixels per tile</code></td>
<td>50</td>
<td>The width/height of a <code>TileImage</code> in the result mosaic. Don’t make this larger than 75 for the provided set of <code>TileImages</code></td>
</tr>

<tr>
<td><code>output_image.png</code></td>
<td>mosaic.png</td>
<td><code>.png</code>, <code>.jpg</code>, <code>.gif</code>, and <code>.tiff</code> files also supported</td>
</tr>
</tbody>
</table>


<h3 id="additional-resources">Additional Resources<a href="#additional-resources" class="header-anchor"></a></h3>

<p>In addition to the given code from subversion, we have provided a directory of
small thumbnail images which can be used as the <code>tile_directory</code> of the
<code>photomosaic</code> program. If you are working on EWS, then you can use
<code>/class/cs225/mp5_pngs/</code> as the <code>tile_directory</code>. If you are working on your
own machine (including the VM), you can download them from here:
<a href="https://courses.engr.illinois.edu/cs225/fa2017/mps/5/mp5_pngs.tar.bz2"><code>mp5_pngs.tar.bz2</code></a>. If you prefer, you can download them directly to your
<code>mp5</code> directory by running</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wget https://courses.engr.illinois.edu/cs225/fa2017/mps/5/mp5_pngs.tar.bz2
</code></pre></div>
<p>Once downloaded, you need to extract it. Do so by running</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">tar xjvf mp5_pngs.tar.bz2
</code></pre></div>
<p>You may also use your own directory of images to create your own PhotoMosaics.
However, for the supplied tests, you should use our provided images.</p>

<h3 id="testing-1">Testing<a href="#testing-1" class="header-anchor"></a></h3>

<p>We have provided a simple test case for <code>mapTiles()</code>, which can be run with:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">make test
./test [part=2]
</code></pre></div>
<p>We have also provided you with a sample input <code>sourceimage</code> and output
<code>mosaiccanvas</code>, which can be tested as follows:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">make
./mp5 source.png /class/cs225/mp5_pngs/ 75 25 mosaic.png
wget https://courses.engr.illinois.edu/cs225/fa2017/mps/5/mosaic_soln2.png
diff mosaic.png mosaic_soln2.png
</code></pre></div>
<p>Make sure to change the second argument (<code>/class/cs225/mp5_pngs/</code>) to the directory
you downloaded above.</p>

<p>Be aware that these are deliberately insufficient. You should add additional
test cases to more thoroughly test your code.</p>

<!--h2 id="handing-in-your-code">Handing in Your Code<a href="#handing-in-your-code" class="header-anchor"></a></h2>

<p>Commit your changes in the usual way:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">svn ci -m <span style="color:#a31515">"mp5 submission"</span>
</code></pre></div>
<h2 id="grading-information">Grading Information<a href="#grading-information" class="header-anchor"></a></h2>

<p>The following files are used to grade MP 5:</p>

<ul>
<li><code>maptiles.cpp</code> (MP 5.2 only)</li>
<li><code>maptiles.h</code> (MP 5.2 only)</li>
<li><code>kdtree.cpp</code></li>
<li><code>kdtree.h</code></li>
</ul>

<p>All other files will not be used for grading.</p-->

<h2 id="good-luck">Good luck!<a href="#good-luck" class="header-anchor"></a></h2>


    </div>
</div>

<div class="pure-g" id="footer">
    <div class="pure-u-1 footer-links">
        <ul>
            
            <li><a href="https://piazza.com/illinois/fall2017/cs225">Piazza</a></li><li><a href="https://courses.engr.illinois.edu/cs225/fa2017//calendar/">Office Hours</a></li>
        </ul>
    </div>
    <div class="pure-u-1 footer-copyright">
        <p>© 2017. All rights reserved. </p>
    </div>
</div>

<script type="text/javascript" src="files/illinois.js"></script>
<script type="text/javascript" src="files/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="files/MathJax.js" defer=""></script>
<script type="text/javascript" src="files/toc.js"></script>
<script type="text/javascript" src="files/graph-load.js" defer=""></script>
<script type="text/javascript" src="files/menu.js"></script>


    


<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: STIXSizeOneSym, sans-serif;"></div></div></body></html>
